(()=>{var e,t,n,r=document.querySelector(".speaker-controls-notes .value"),s=document.querySelector(".slide-current-number"),o={},a=0,i=!1;function c(e,t,n){var r=++a;o[r]=n,window.opener.postMessage(JSON.stringify({namespace:"reveal-notes",type:"call",callId:r,methodName:e,arguments:t}),"*")}c("getTotalSlides",[],(e=>{document.querySelector(".slide-total-number").textContent=e})),c("getIndices",[],(e=>{let{h:t}=e;document.querySelector(".slide-current-number").textContent=t})),document.querySelector("#prev").addEventListener("click",(()=>{c("prev")})),document.querySelector("#next").addEventListener("click",(()=>{c("next")})),window.opener.addEventListener("beforeunload",(()=>{window.close()})),window.addEventListener("message",(function(r){var s=JSON.parse(r.data);s.state&&delete s.state.overview,s&&"reveal-notes"===s.namespace?"connect"===s.type?function(e){!1===i&&(i=!0,function(e){var r=["receiver","progress=false","history=false","transition=none","autoSlide=0","backgroundTransition=none"].join("&"),s=/\?/.test(e.url)?"&":"?",o="#/"+e.state.indexh+"/"+e.state.indexv,a=e.url+s+r+"&postMessageEvents=true"+o,i=e.url+s+r+"&controls=false"+o;(t=document.createElement("iframe")).setAttribute("width",1280),t.setAttribute("height",1024),t.setAttribute("src",a),document.querySelector("#current-slide").appendChild(t),(n=document.createElement("iframe")).setAttribute("width",1280),n.setAttribute("height",1024),n.setAttribute("src",i),document.querySelector("#upcoming-slide").appendChild(n)}(e),document.addEventListener("keydown",(function(e){if(116===e.keyCode||e.metaKey&&82===e.keyCode)return e.preventDefault(),!1;t.contentWindow.postMessage(JSON.stringify({method:"triggerKey",args:[e.keyCode]}),"*")})),function(){var e=new Date,t=document.querySelector(".speaker-controls-time"),n=t.querySelector(".clock-value"),r=t.querySelector(".hours-value"),s=t.querySelector(".minutes-value"),o=t.querySelector(".seconds-value");function a(){var t,a,i,c,d,u,l,m,g,v=new Date;t=v.getTime()-e.getTime(),n.innerHTML=v.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit"}),a=r,i=s,c=o,d=t,u=-1===Math.sign(d)?"-":"",l=(d=Math.abs(Math.round(d/1e3)))%60,m=Math.floor(d/60)%60,g=Math.floor(d/3600),a.innerHTML=u+p(g),0===g?a.classList.add("mute"):a.classList.remove("mute"),i.innerHTML=":"+p(m),0===g&&0===m?i.classList.add("mute"):i.classList.remove("mute"),c.innerHTML=":"+p(l)}a(),setInterval(a,1e3),t.addEventListener("click",(function(){return e=new Date,a(),!1}))}())}(s):"state"===s.type?d(s):"return"===s.type&&o[s.callId](s.result):s&&"reveal"===s.namespace&&(/ready/.test(s.eventName)?window.opener.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connected"}),"*"):/slidechanged|fragmentshown|fragmenthidden|paused|resumed/.test(s.eventName)&&e!==JSON.stringify(s.state)&&window.opener.postMessage(JSON.stringify({method:"setState",args:[s.state]}),"*"))}));const d=(u=o=>{e=JSON.stringify(o.state),s.textContent=o.state.indexh+1,o.notes?(r.style.whiteSpace="pre-wrap",r.innerHTML=o.notes):r.innerHTML="",t.contentWindow.postMessage(JSON.stringify({method:"setState",args:[o.state]}),"*"),n.contentWindow.postMessage(JSON.stringify({method:"setState",args:[o.state]}),"*"),n.contentWindow.postMessage(JSON.stringify({method:"next"}),"*")},l=200,g=0,function(){var e=arguments,t=this;clearTimeout(m);var n=Date.now()-g;n>l?(u.apply(t,e),g=Date.now()):m=setTimeout((function(){u.apply(t,e),g=Date.now()}),l-n)});var u,l,m,g;function p(e){var t="00"+parseInt(e);return t.substring(t.length-2)}})();